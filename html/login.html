<!DOCTYPE html>
<html>
    <head>
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge'>
        <title>Login Colaborador</title>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel='stylesheet' type='text/css' media='screen' href='../Css/login.css'>
    
    </head>

    <body> 
        <div class="container">
            <h1>Escola Vencer Sempre</h1>
            <h2>Faça seu Login</h2>
            <form>
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required placeholder="Digite o e-mail cadastrado">

                <label for="senha">Senha:</label>
                <input type="password" id="senha" name="senha" required placeholder="******">

                <input type="submit" value="Entrar">
            </form>
        </div>
    </body>
    <script>
        class Login {
                constructor(email, senha) {
                    this.email = email;
                    this.senha = senha;
                }

                verificarUsuario(){
                    const usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];

                    const usuario = usuarios.find(usuario => usuario.email === this.email && usuario.senha === this.senha)
                    if (usuario){
                        return true 
                    } else { return false }
                }

            }

            const form = document.querySelector('form');
            form.addEventListener('submit', function (event) {
                event.preventDefault();
                const email = document.querySelector('#email').value;
                const senha = document.querySelector('#senha').value;

                const login = new Login(email, senha);

                if (login.verificarUsuario()) {
                    alert('Login realizado com sucesso!');
                    window.location.href='agendamento.html'
                    // redirecionar para página restrita
                } else {
                    alert('Usuário ou senha inválidos!');
                }
            });
        </script>
</html>

